;/*FB_PKG_DELIM*/

__d("CheckmarkOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsx("path",{fillRule:"nonzero",d:"M448.781 407.68a.75.75 0 0 0-1.062 1.06l5.027 5.04a.75.75 0 0 0 1.062 0l10.473-10.5a.75.75 0 1 0-1.062-1.06l-9.942 9.968-4.496-4.508z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSMarkThreadUnread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(c[2]=b.createArray(),c[3]=(c[2].push("markThreadUnread unable to find thread key in DB:"),c[2]),c[4]=(c[2].push(a[0]),c[2]),c[5]=b.toJSON(c[2]),function(a){b.logger(a).mustfix(a)}(c[5]),c[0]=void 0):(e=d.item,b.sequence([function(a){return c[3]=e.lastActivityTimestampMs,c[5]=e.lastReadWatermarkTimestampMs,c[4]=e.threadKey,b.i64.neq(void 0,void 0)?b.sequence([function(a){return c[7]=b.i64.sub(b.i64.lt(void 0,c[3])?void 0:c[3],b.i64.cast([0,1])),b.i64.lt(c[7],c[5])?b.sequence([function(a){return b.forEach(b.db.table(9).fetch([[[c[4]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:c[7]})})},function(a){return c[6]=c[7]}]):b.resolve(c[6]=void 0)},function(a){return c[2]=c[6]}]):b.sequence([function(a){return b.db.table(12).fetchDesc([[[c[4]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(c[8]=b.createArray(),c[9]=(c[8].push("markThreadUnread unable to find message with thread key in DB:"),c[8]),c[10]=(c[8].push(c[4]),c[8]),c[11]=b.toJSON(c[8]),function(a){b.logger(a).mustfix(a)}(c[11]),c[6]=void 0):(e=d.item,b.sequence([function(a){return c[8]=e.timestampMs,c[10]=b.i64.sub(b.i64.lt(c[8],c[3])?c[8]:c[3],b.i64.cast([0,1])),b.i64.lt(c[10],c[5])?b.sequence([function(a){return b.forEach(b.db.table(9).fetch([[[c[4]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:c[10]})})},function(a){return c[9]=c[10]}]):b.resolve(c[9]=void 0)},function(a){return c[6]=c[9]}]))})},function(a){return c[2]=c[6]}])},function(a){return c[0]=c[2]}]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSOptimisticMarkThreadUnread",["LSIssueNewTask","LSMarkThreadUnread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSMarkThreadUnread"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],void 0)?c.sequence([function(b){return function(a){c.logger(a).info(a)}("optimisticMarkThreadUnread issuing task"),c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("last_read_watermark_timestamp_ms",d[0]),d[3].set("sync_group",d[1]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,49]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve()},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticMarkThreadUnreadStoredProcedure",["LSOptimisticMarkThreadUnread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSOptimisticMarkThreadUnread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWXIconMenuItemCheckmark",["MWXSvgIcon","SVGIcon","cr:9426","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:9426")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWLSMarkThreadAsUnread",["LSFactory","LSOptimisticMarkThreadUnreadStoredProcedure","MWThreadKey.react","MessengerWebUXLogger","cr:2865","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback,k=(e=b("cr:2865"))!=null?e:function(){return{}};function a(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=c("MessengerWebUXLogger").useInteractionLogger(),g=k(),i=g.setIsPassive;return j(function(){e==null?void 0:e({eventName:"mark_thread_as_unread"}),i!=null&&i(!0),c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticMarkThreadUnreadStoredProcedure")(c("LSFactory")(a),{threadKey:b})},"readwrite",void 0,void 0,f.id+":40"))},[e,i,a,b])}g["default"]=a}),98);
__d("MAWMarkThreadAsReadMenuItem.react",["fbt","LSMessagingThreadTypeUtil","MWPBumpEntityKey","MWXIconMenuItemCheckmark","MWXMenuItem.react","cr:2580","cr:2873","cr:2996","emptyFunction","react","useMWLSMarkThreadAsRead","useMWLSMarkThreadAsUnread"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=(e=b("cr:2873"))!=null?e:c("emptyFunction"),l=(e=b("cr:2996"))!=null?e:c("emptyFunction");function a(a){var e=a.entryPoint,f=a.isUnread;a=a.thread;var g=a.threadKey,i=a.threadType,m=c("useMWLSMarkThreadAsRead")(e),n=c("useMWLSMarkThreadAsUnread")(),o=l(a,e),p=k(),q=d("LSMessagingThreadTypeUtil").isArmadilloSecure(i);return j.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemCheckmark"),onClick:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_mark_as."+(f?"read":"unread")),f?o!=null&&q?o():m():(p!=null&&q?p():n(),b("cr:2580")&&e!=null&&b("cr:2580")({threadKey:g,threadType:i},"mark_thread_unread",e))},primaryText:f?h._("__JHASH__On4USdQRCgo__JHASH__"):h._("__JHASH__3sCrK1o1dVI__JHASH__"),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWCMCopyGroupLinkMenuItem.react",["fbt","MWCMChannelLinkShareTrigger.react","MWCMShortLinkShare.react","MWCMThreadTypes.react","MWXIconMenuItemLink","MWXMenuItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.thread;var b=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType),e=function(a){return j.jsx(c("MWXMenuItem.react"),{icon:c("MWXIconMenuItemLink"),onClick:function(){return a()},primaryText:h._("__JHASH__ooGPR9IJy9A__JHASH__")})};return b?j.jsx(c("MWCMShortLinkShare.react"),{thread:a,children:function(a,b){return e(b)}}):j.jsx(c("MWCMChannelLinkShareTrigger.react"),{threadKey:a.threadKey,children:function(a){return e(a)}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconMenuItemReport",["MWXSvgIcon","SVGIcon","cr:9600","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:9600")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWCMReportGroupToAdminMenuItem.react",["fbt","MWPBumpEntityKey","MWXIconMenuItemReport","MWXMenuItem.react","react","useMWCMGetReportCommunityDialogTriggerHook"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(a){var b=a.onSelectItem;a=a.thread;var e=h._("__JHASH__CHnyxuUNpic__JHASH__"),f=c("useMWCMGetReportCommunityDialogTriggerHook")(a.threadKey);a=k(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_report_to_admin"),b==null?void 0:b(),f()},[b,f]);return j.jsx(c("MWXMenuItem.react"),{"aria-label":e,icon:c("MWXIconMenuItemReport"),onClick:a,primaryText:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatRTCButton.react",["$InternalEnum","MWChatRTCButtonIcons.react","MWXPressable.react","MWXTooltip.react","emptyArray","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=b("$InternalEnum").Mirrored(["RtcEnabled","RtcDisabled","RtcHidden"]);var j="26px";function k(a,b,c,e){e=c!=null?c:j;return i.jsx(d("MWChatRTCButtonIcons.react").VideoIcon,{fill:a,showPresence:b,size:e})}k.displayName=k.name+" [from "+f.id+"]";function l(a,b,c){c=b!=null?b:j;return i.jsx(d("MWChatRTCButtonIcons.react").AudioIcon,{fill:a,size:c})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.disabled;b=b===void 0?!1:b;var d=a.fill,e=a.label,f=a.onPress,g=a.overlayDisabled;g=g===void 0?!1:g;var h=a.showPresence,j=a.size;a=a.xstyle;var l=a===void 0?c("emptyArray"):a;return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:e,children:i.jsx(c("MWXPressable.react"),{"aria-label":e,disabled:b,onPress:f,overlayDisabled:g,overlayRadius:"50%",testid:void 0,xstyle:function(){return l},children:k(d,h,j)})})}a.displayName=a.name+" [from "+f.id+"]";function e(a){var b=a.disabled;b=b===void 0?!1:b;var d=a.fill,e=a.label,f=a.onPress,g=a.overlayDisabled;g=g===void 0?!1:g;var h=a.size;a=a.xstyle;var j=a===void 0?c("emptyArray"):a;return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:e,children:i.jsx(c("MWXPressable.react"),{"aria-label":e,disabled:b,onPress:f,overlayDisabled:g,overlayRadius:"50%",testid:void 0,xstyle:function(){return j},children:l(d,h)})})}e.displayName=e.name+" [from "+f.id+"]";g.RtcButtonDisplayState=b;g.MWChatRTCButtonVideo=a;g.MWChatRTCButtonAudio=e}),98);
__d("MWThreadListHoverButtonDropdownMenuDeleteThreadButton.react",["LSMessagingThreadTypeUtil","MWChatSettingsDeleteConversation.react","cr:1739","react","useMWDeleteThreadAndMaybeNavigate"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=a.entryPoint,f=a.isVisible,g=a.onSelectItem,h=a.selected;a=a.thread;var j=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),k=c("useMWDeleteThreadAndMaybeNavigate")(a,h);h=b("cr:1739")==null?void 0:b("cr:1739")(a,h);return f?i.jsx(c("MWChatSettingsDeleteConversation.react"),{disabled:!1,entryPoint:e,onClick:b("cr:1739")!=null&&j?h:k,onSelectItem:g,thread:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RTWebJoinOngoingCallMenuItem.react",["fbt","ix","FDSMenuItem.react","ZenonUserActionLogger","fbicon","react","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=a.callData,e=a.fbid,f=c("useRTWebCometStartCallCallback")();a=(a=b==null?void 0:b.call_state)!=null?a:"NO_ONGOING_CALL";var g,j,l;switch(a){case"AUDIO_GROUP_CALL":g=d("fbicon")._(i("558161"),20);j=h._("__JHASH__XUqq2FSDccy__JHASH__");l="audio";break;case"VIDEO_GROUP_CALL":g=d("fbicon")._(i("493174"),20);j=h._("__JHASH__YagbsATrFfb__JHASH__");l="video";break;default:return null}return k.jsx(c("FDSMenuItem.react"),{icon:g,onClick:function(){b!=null&&(c("ZenonUserActionLogger").logClick({component:"join_call_button",surface:"messages_jewel"}),f({existingCall:b,mediaType:l,thread:{id:e,type:2},trigger:"multiway_thread_list_join_call_button"}))},primaryText:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWGetMessengerRedirectInfosWithMsplitCheck",["fbt","Actor","MWFacebookUserWithoutMessengerAccess","MessengerDesktopDeepLinkUtils","XCometMessengerControllerRouteBuilder"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=d("Actor").useActor();b=b[0];var e=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();a=e?c("XCometMessengerControllerRouteBuilder").buildURL({}):d("MessengerDesktopDeepLinkUtils").getDeeplinkButtonURI({funnel_session_id:a,id:b,origin:"FB",thread:void 0});b=e?h._("__JHASH__A-r6MopUPUU__JHASH__"):d("MessengerDesktopDeepLinkUtils").getDeeplinkButtonLabel();return[a,b]}g["default"]=a}),226);
__d("useMWLSThreadFolder",["MWThreadKey.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a,b=(h||(h=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.threads,["folderName"]).getKeyRange(e)},[b,e],f.id+":23"))==null?void 0:a.folderName}g["default"]=a}),98);
__d("useMWLSThreadHasThread",["MWThreadKey.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(b)},[a,b],f.id+":21")!=null}g["default"]=a}),98);
__d("useMWLSRTCDisplayStatus",["I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWChatIsMessageRequest","MWChatRTCButton.react","MWLSThread","MWLSThreadCapabilities","MWPActor.react","MWThreadKey.react","ReQL","ReQLSuspense","gkx","useIsReadOnlyFeatureLimitedWithThreadType","useMWLSThreadFolder","useMWLSThreadHasThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=d("MWLSThread").useThread(a),e=c("useMWLSThreadFolder")(),g=c("useMWLSThreadHasThread")();e=d("MWChatIsMessageRequest").fn((e=e)!=null?e:void 0);var k=d("MWPActor.react").useActor(),l=(j||(j=c("useReStore")))(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.tables.participants,[]).getKeyRange(a,k)},[l,a,k],f.id+":46")!=null,n=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(l.tables.participants,["contactId"]).getKeyRange(a).take(2).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,k)}).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(a.contactId),f.id+":61")})},[l,a,k],f.id+":54"),o=n.every(function(a){var b;if(a!=null&&!((b=d("LSContactBitOffset").has(16,a))!=null?b:!0)){return(b=d("LSContactBitOffset").has(17,a))!=null?b:!0}else return!0}),p=d("MWLSThreadCapabilities").useCapabilities();p=d("MWLSThreadCapabilities").canRtcVideoCall(p)||d("MWLSThreadCapabilities").canRtcVoiceCall(p);var q=c("useIsReadOnlyFeatureLimitedWithThreadType")(b==null?void 0:b.threadType);p=p&&g&&!q;g=b!=null?[d("LSMessagingThreadTypeUtil").isOneToOne(b.threadType),d("LSMessagingThreadTypeUtil").isGroup(b.threadType)]:[!1,!1];q=g[0];b=g[1];g=n.length===1&&n[0]!=null&&(h||(h=d("I64"))).equal(n[0].contactType,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE));if(p)if(e)return d("MWChatRTCButton.react").RtcButtonDisplayState.RtcDisabled;else if(q||b&&m||g&&c("gkx")("23431")&&o)return d("MWChatRTCButton.react").RtcButtonDisplayState.RtcEnabled;return d("MWChatRTCButton.react").RtcButtonDisplayState.RtcHidden}g["default"]=a}),98);
__d("MWThreadListHoverButtonDropdownMenu.react",["fbt","CommunityMessagingEnableState","FDSMenuSeparator.react","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWMarkThreadAsReadMenuItem.react","MWCMBumpUnbumpThreadMenuItem.react","MWCMCopyGroupLinkMenuItem.react","MWCMIsAnyCMThread","MWCMIsCMSubthread","MWCMIsThreadBumped","MWCMPauseChatMenuItem.react","MWCMReportGroupToAdminMenuItem.react","MWCMisStandAloneCommunity","MWChatRTCButton.react","MWFacebookUserWithoutMessengerAccess","MWInboxCommunityThreadsRouteBuilder","MWInboxInfoBlockMessages.react","MWInboxInfoFRXMenuItem.react","MWJewelPopoverDialogContext.react","MWLSLeaveGroupMenuItem.react","MWLSStartPhoneCall","MWPActor.react","MWPBumpEntityKey","MWPThreadIsPage.react","MWThreadListHoverButtonDropdownMenuDeleteThreadButton.react","MWThreadListHoverButtonDropdownMenuIcons","MWV2ArchiveThreadMenuItem.react","MWV2ChatSettingsMute.react","MWV2ChatSettingsUnmute.react","MWV2OpenGroupHeaderMenuItem.react","MWXIconMenuItemBell","MWXIconMenuItemCautionTriangle","MWXMenu.react","MWXMenuItem.react","MessengerWebUXLogger","RTWebJoinOngoingCallMenuItem.react","ReQL","ReQLSuspense","cr:465","cr:4717","cr:5856","cr:6535","cr:77","getLSContactHref","getRTCCallStateOfLSRTCCallState","gkx","queryMWLSOtherParticipantContact","react","useCommunityFolder","useMWGetMessengerRedirectInfosWithMsplitCheck","useMWIsViewerThreadAdmin.react","useMWLSCanLeaveGroup","useMWLSRTCDisplayStatus","useMWNavigation","useMWPIsThreadMuted","useReStore","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useCallback,o=e.useContext,p=e.useMemo,q=e.useRef;function r(a){var e=a.thread;a.fbid;var g=a.isUnread,l=a.messagingEntrypoint,r=a.onClose,s=a.onCloseJewel;a=a.selected;var t=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"thread_overflow_menu_impression",threadKey:e.threadKey,threadType:e.threadType}),u=(i||(i=c("useReStore")))(),v=c("useMWNavigation")(),w=p(function(){return(j||(j=d("I64"))).to_string(e.threadKey)},[e.threadKey]),x=q(c("uuidv4")()).current,y=c("useCommunityFolder")(e),z=c("useMWIsViewerThreadAdmin.react")(u,e.threadKey),A=d("MWPThreadIsPage.react").useIsPage(),B=d("MWPActor.react").useActor(),C=d("MWLSStartPhoneCall").useMakeRTCCall(),D=C[0];C=C[1];var E=c("useMWLSRTCDisplayStatus")();E=E===d("MWChatRTCButton.react").RtcButtonDisplayState.RtcEnabled&&C==null;C=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(e.threadKey)},[u,e.threadKey],f.id+":160");var F=d("Int64Hooks").useMemoInt64(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(e.threadType)},[e.threadType]),G=d("ReQLSuspense").useFirst(function(){return c("queryMWLSOtherParticipantContact")(u,e.threadKey,e.threadType,B,["blockedByViewerStatus","contactTypeExact","id","secondaryName"])},[e.threadKey,e.threadType,u,B],f.id+":172"),H=G!=null?c("getLSContactHref")(G):void 0;G=G==null?void 0:G.id;var I=c("useMWPIsThreadMuted")(e),J=c("MWCMIsAnyCMThread")(e.threadType),K=c("MWCMIsCMSubthread")(e.threadType),L=(j||(j=d("I64"))).equal(e.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(-2)),M=j.equal(e.parentThreadKey,k.ofNumber(-1)),N=j.equal(e.parentThreadKey,k.ofNumber(-10));L=!L&&!M&&!N;M=j.equal(e.parentThreadKey,k.ofNumber(-18));var O=c("MWCMisStandAloneCommunity")(y==null?void 0:y.communityType),P=e.cannotReplyReason==="viewer_not_subscribed",Q=d("LSThreadBitOffset").has(17,e),R=e.folderName==="inbox"?12:e.folderName==="pending"?29:30,aa=c("useMWLSCanLeaveGroup")(e)&&!P,ba=d("LSThreadBitOffset").has(19,e)&&!P;P=d("LSThreadBitOffset").has(74,e);var ca=d("LSThreadBitOffset").has(154,e),S=d("LSThreadBitOffset").has(5,e);z=d("LSThreadBitOffset").has(92,e)&&z;var da=d("LSThreadBitOffset").has(88,e),ea=d("LSThreadBitOffset").has(64,e),fa=d("LSThreadBitOffset").has(65,e),ga=d("LSThreadBitOffset").has(10,e),T=p(function(){if(y!=null&&J)return y.enableState},[J,y]);T=(T!=null?(j||(j=d("I64"))).to_int32(T):c("CommunityMessagingEnableState").ENABLED)===c("CommunityMessagingEnableState").DISABLE_REQUESTED;P=J?!T&&P:P;var U=j.equal(e.threadType,k.ofNumber(15)),V=o(c("MWJewelPopoverDialogContext.react")),W=V.setIsOpenForDialog,X=n(function(){if(l==="jewel")return W(!0)},[l,W]);V=[E?m.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").AudioCall,onClick:function(){Z==null?void 0:Z({eventName:"start_audio_call",threadKey:e.threadKey,threadType:e.threadType}),D(!1,w,"comet_chat_tab_call_option")},primaryText:h._("__JHASH__IXTcpWk89CI__JHASH__")},"rtc_audio_call"):null,E?m.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").VideoChat,onClick:function(){Z==null?void 0:Z({eventName:"start_video_chat",threadKey:e.threadKey,threadType:e.threadType}),D(!0,w,"comet_chat_tab_call_option")},primaryText:h._("__JHASH__FPCh5SVoHDp__JHASH__")},"rtc_video_call"):null].filter(Boolean);E=c("useMWGetMessengerRedirectInfosWithMsplitCheck")(x);var Y=E[0];x=E[1];E=p(function(){if(y==null)return Y;return c("gkx")("22839")?c("MWCMIsThreadBumped")(e)&&v!=null?v.getUrlFromThreadKey(e.threadKey,e.threadType):d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:(j||(j=d("I64"))).to_string(y.folderId),thread_key:j.to_string(e.threadKey)}):void 0},[y,v,e,Y]);x=y!=null?h._("__JHASH__AoEzAyipqOb__JHASH__"):x;var Z=c("MessengerWebUXLogger").useInteractionLogger(),ha=function(){if(!ba)return null;if(I)return m.jsx(c("MWV2ChatSettingsUnmute.react"),{muteCallsExpireTimeMs:e.muteCallsExpireTimeMs,muteExpireTimeMs:e.muteExpireTimeMs,onClick:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_unmute_notifications")},parentThreadKey:e.parentThreadKey,secondaryParentThreadKey:e.secondaryParentThreadKey,threadKey:e.threadKey,threadName:e.threadName,threadType:e.threadType});else return m.jsx(c("MWV2ChatSettingsMute.react"),{entryPoint:l,icon:c("MWXIconMenuItemBell"),onClick:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_mute_notifications"),X()},threadKey:e.threadKey,threadType:e.threadType})},$=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();$=$?c("MWThreadListHoverButtonDropdownMenuIcons").AppMessaging:c("MWThreadListHoverButtonDropdownMenuIcons").AppMessenger;return m.jsxs(c("MWXMenu.react"),{"aria-label":h._("__JHASH__fCP5AKwipDN__JHASH__"),ref:t,truncate:!0,withArrow:!0,children:[J?m.jsx(c("MWCMBumpUnbumpThreadMenuItem.react"),{entryPoint:l,thread:e}):null,N?null:m.jsx(c("MAWMarkThreadAsReadMenuItem.react"),{entryPoint:l,isUnread:g,thread:e}),J&&l==="group_tab"?m.jsx(c("MWV2OpenGroupHeaderMenuItem.react"),{thread:e}):null,E!=null&&l==="jewel"?m.jsx(c("MWXMenuItem.react"),{href:E,icon:$,onClick:r,primaryText:x}):null,ha(),H!=null?m.jsx(c("MWXMenuItem.react"),{href:H,icon:c("MWThreadListHoverButtonDropdownMenuIcons").ViewProfile,onClick:r,primaryText:h._("__JHASH__uiGWJD0f7Am__JHASH__")}):null,b("cr:6535")!=null&&(S||z)&&!K?m.jsx(b("cr:6535"),{onPress:function(a){s==null?void 0:s(a),r==null?void 0:r(a)},thread:e}):null,b("cr:77")!=null&&(F||c("gkx")("26361"))&&S?m.jsx(b("cr:77"),{onPress:function(a){s==null?void 0:s(a),r==null?void 0:r(a)},threadKey:e.threadKey}):null,V.length!==0?m.jsxs(m.Fragment,{children:[m.jsx(c("FDSMenuSeparator.react"),{}),V]}):null,m.jsx(c("RTWebJoinOngoingCallMenuItem.react"),{callData:{call_state:c("getRTCCallStateOfLSRTCCallState")(k.unwrapIntEnum(e.ongoingCallState),k.unwrapIntEnum(e.threadType)),initiator_fbid:null,server_info_data:(t=C==null?void 0:C.ongoingCallServerInfoData)!=null?t:null},fbid:w}),M?null:m.jsx(c("FDSMenuSeparator.react"),{}),b("cr:4717")!=null?m.jsx(b("cr:4717"),{threadKey:e.threadKey}):null,ga&&G!=null?m.jsx(c("MWInboxInfoBlockMessages.react"),{contactId:G,loggingEntryPoint:R,loggingSource:A?5:1,loggingSourceOwner:0,thread:e,children:function(a,b){return m.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").BlockMessages,onClick:function(){Z==null?void 0:Z({eventName:"block_user",threadKey:e.threadKey,threadType:e.threadType}),a()},primaryText:b})}}):null,ea&&L?m.jsx(d("MWV2ArchiveThreadMenuItem.react").MWV2ArchiveThreadMenuItemArchive,{entryPoint:"thread_list",selected:a,threadKey:e.threadKey,threadType:e.threadType}):null,fa&&N?m.jsx(d("MWV2ArchiveThreadMenuItem.react").MWV2ArchiveThreadMenuItemUnarchive,{entryPoint:"thread_list",threadKey:e.threadKey,threadType:e.threadType}):null,ca?m.jsx(c("MWCMPauseChatMenuItem.react"),{thread:e}):null,m.jsx(c("MWThreadListHoverButtonDropdownMenuDeleteThreadButton.react"),{entryPoint:l,isVisible:P,onSelectItem:X,selected:a,thread:e}),!O&&J&&!T?m.jsx(c("MWCMCopyGroupLinkMenuItem.react"),{thread:e}):null,da&&J?m.jsx(c("MWCMReportGroupToAdminMenuItem.react"),{onSelectItem:X,thread:e}):null,l==="inbox"&&!M&&Q?m.jsx(c("MWInboxInfoFRXMenuItem.react"),{icon:c("MWXIconMenuItemCautionTriangle"),messagingEntrypoint:l,thread:e}):null,aa?m.jsx(c("MWLSLeaveGroupMenuItem.react"),{onSelectItem:X,shouldNavigate:a,thread:e}):null,(U&&b("cr:465")!=null||b("cr:5856")!=null)&&m.jsx(c("FDSMenuSeparator.react"),{}),U&&b("cr:465")!=null?m.jsx(b("cr:465"),{onPress:function(a){s==null?void 0:s(a),r==null?void 0:r(a)},thread:e}):null,b("cr:5856")&&m.jsx(b("cr:5856"),{thread:e})]})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.threadKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["threadKey"]);var e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadKey","threadType","muteCallsExpireTimeMs","parentThreadKey","muteExpireTimeMs","threadName","folderName","secondaryParentThreadKey","threadStatus","authorityLevel","ongoingCallState","needsAdminApprovalForNewParticipant","admodCount","cannotReplyReason"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(b)},[e,b],f.id+":585");return g==null?null:m.jsx(r,babelHelpers["extends"]({},a,{thread:g}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMAWDeleteSecureThreadFromThreadList",["useMAWDeleteSecureThread","useMWNavigateAfterLeavingGroup"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("useMWNavigateAfterLeavingGroup")(a);return c("useMAWDeleteSecureThread")(a,function(){b&&d()})}g["default"]=a}),98);
__d("useMAWMarkThreadAsUnread",["MAWBridgeFireAndForget","MAWMiActOnActThreadReady","MWThreadKey.react","Promise","promiseDone","react","useMWLSMarkThreadAsUnread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=(i||(i=c("useReStore")))(),f=c("useMWLSMarkThreadAsUnread")();return k(function(){f(),c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(e.tables,a,"useMAWMarkThreadAsUnread",function(a,c,e){d("MAWBridgeFireAndForget").fireAndForget("backend","markThreadAsUnread",{chatJid:e});return(h||(h=b("Promise"))).resolve()}))},[e,f,JSON.stringify(a)])}g["default"]=a}),98);